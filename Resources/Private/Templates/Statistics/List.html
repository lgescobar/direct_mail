<html xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
      xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default"/>

<f:section name="Main">

    <f:if condition="{statistics}">
        <table id="stats-table" border="0" cellpadding="0" cellspacing="0" class="table table-striped table-hover">
            <f:render partial="Statistics/TableHeader"/>

            <tbody>
            <f:for each="{statistics}" as="mail">
                <tr class="db_list_normal">
                    <td>
                        <core:iconForRecord table="sys_dmail" row="{mail}" size="small"/>
                    </td>
                    <td>
                        <a href="{mail.detailLink}" title="[{mail.uid}] {mail.subject}">
                            <f:format.crop maxCharacters="30" append="&hellip;"
                                           respectWordBoundaries="false">{mail.subject}</f:format.crop>
                        </a>
                        &nbsp;&nbsp;
                    </td>
                    <td>
                        <f:format.date format="{dateFormat}">{mail.scheduled}</f:format.date>
                    </td>
                    <td>
                        <f:format.date format="{dateFormat}">{mail.scheduled_begin}</f:format.date>
                    </td>
                    <td>
                        <f:format.date format="{dateFormat}">{mail.scheduled_end}</f:format.date>
                    </td>
                    <td>
                        {mail.sentMessageCount}
                    </td>
                    <td>
                        <f:translate key="LLL:EXT:direct_mail/Resources/Private/Language/locallang_mod2-6.xlf:stats_overview_{mail.sentStatus}">
                            {mail.sentStatus}
                        </f:translate>
                    </td>
                </tr>
            </f:for>
            </tbody>
        </table>

        <f:if condition="{linkNext}">
            <a id="next-link" class="btn btn-default" href="javascript:void(0);"
               data-page-id="{linkNext.pageId}" data-page="{linkNext.nextPage}" data-page-size="{linkNext.pageSize}">
                <f:translate key="LLL:EXT:direct_mail/Resources/Private/Language/locallang_mod2-6.xlf:stats_load_more">
                    Load more statistics
                </f:translate>
            </a>
        </f:if>
    </f:if>

</f:section>

</html>
